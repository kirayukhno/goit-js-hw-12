{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\naxios.defaults.params = {\n    key: \"52836672-a9b4603c312b0d6cca2d3ae03\",\n    q: \"\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n    per_page: 21,\n}\nexport const getImagesByQuery = query => {\n    return axios\n        .get(\"\", { params: { q: query } })\n        .then(response => response.data.hits)\n};","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\"ul.gallery\");\nconst loader = document.querySelector(\"span.loader\");\n\nconst slb = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n});\n\nexport const createGallery = images => {\n    gallery.insertAdjacentHTML(\"beforeend\", images\n        .map(\n            ({\n                webformatURL,\n                largeImageURL,\n                tags,\n                likes,\n                views,\n                comments,\n                downloads,\n            }) =>\n                `\n                <li class=\"gallery-item\">\n                    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                        <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n                    </a>\n                    <div class=\"gallery-item-info\">\n                        <p class=\"gallery-text\"><span class=\"title\">Likes</span>${likes}</p>\n                        <p class=\"gallery-text\"><span class=\"title\">Views</span>${views}</p>\n                        <p class=\"gallery-text\"><span class=\"title\">Comments</span>${comments}</p>\n                        <p class=\"gallery-text\"><span class=\"title\">Downloads</span>${downloads}</p>\n                    </div>\n                </li>\n                `\n        ).join(\"\")\n    )\n    slb.refresh();\n};\n\nexport const clearGallery = () => {\n    gallery.innerHTML = \"\";\n};\n\nexport const showLoader = () => {\n    loader.classList.add(\"is-visible\");\n};\n\nexport const hideLoader = () => {\n    loader.classList.remove(\"is-visible\");\n};","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader, } from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst searchInput = document.querySelector('input[name=\"search-text\"]');\n\nform.addEventListener(\"submit\", onSubmit);\nfunction onSubmit(event) {\n    event.preventDefault();\n    const query = searchInput.value.trim();\n    if (!query) {\n        iziToast.error({\n            message: \"Enter a valid keyword!\",\n            position: \"topRight\",\n            backgroundColor: \"#EF4040\",\n            progressBarColor: \"#B51B1B\",\n            messageColor: \"#fff\",\n            close: true,\n            maxWidth: 432,\n            });\n        return;\n    }\n    clearGallery();\n    showLoader();\n    getImagesByQuery(query)\n        .then(images => {\n            if (images.length === 0) {\n                iziToast.error({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topRight\",\n                    backgroundColor: \"#EF4040\",\n                    progressBarColor: \"#B51B1B\",\n                    messageColor: \"#fff\",\n                    close: true,\n                    maxWidth: 432,\n                });\n                return;\n            }\n            createGallery(images);\n        })\n        .catch(error => {\n            console.log(error);\n            iziToast.error({\n                message: \"Something went wrong. Please try again later!\",\n                position: \"topRight\",\n                backgroundColor: \"#EF4040\",\n                progressBarColor: \"#B51B1B\",\n                messageColor: \"#fff\",\n                close: true,\n                maxWidth: 432,\n            });\n        })\n        .finally(() => {\n            hideLoader();\n            form.reset();\n        });\n}"],"names":["axios","getImagesByQuery","query","response","gallery","loader","slb","SimpleLightbox","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","searchInput","onSubmit","event","iziToast","error"],"mappings":"+vBAEAA,EAAM,SAAS,QAAU,2BACzBA,EAAM,SAAS,OAAS,CACpB,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EACd,EACO,MAAMC,EAAmBC,GACrBF,EACF,IAAI,GAAI,CAAE,OAAQ,CAAE,EAAGE,CAAK,EAAI,EAChC,KAAKC,GAAYA,EAAS,KAAK,IAAI,ECXtCC,EAAU,SAAS,cAAc,YAAY,EAC7CC,EAAS,SAAS,cAAc,aAAa,EAE7CC,EAAM,IAAIC,EAAe,aAAc,CACzC,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAC,EAEYC,EAAgBC,GAAU,CACnCL,EAAQ,mBAAmB,YAAaK,EACnC,IACG,CAAC,CACG,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACH,IACG;AAAA;AAAA,oDAEoCL,CAAa;AAAA,0DACPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,kFAGFC,CAAK;AAAA,kFACLC,CAAK;AAAA,qFACFC,CAAQ;AAAA,sFACPC,CAAS;AAAA;AAAA;AAAA,iBAI/F,EAAU,KAAK,EAAE,CACZ,EACDV,EAAI,QAAO,CACf,EAEaW,EAAe,IAAM,CAC9Bb,EAAQ,UAAY,EACxB,EAEac,EAAa,IAAM,CAC5Bb,EAAO,UAAU,IAAI,YAAY,CACrC,EAEac,EAAa,IAAM,CAC5Bd,EAAO,UAAU,OAAO,YAAY,CACxC,EC9CMe,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAc,SAAS,cAAc,2BAA2B,EAEtED,EAAK,iBAAiB,SAAUE,CAAQ,EACxC,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpB,MAAMrB,EAAQmB,EAAY,MAAM,KAAI,EACpC,GAAI,CAACnB,EAAO,CACRsB,EAAS,MAAM,CACX,QAAS,yBACT,SAAU,WACV,gBAAiB,UACjB,iBAAkB,UAClB,aAAc,OACd,MAAO,GACP,SAAU,GACtB,CAAa,EACL,MACH,CACDP,IACAC,IACAjB,EAAiBC,CAAK,EACjB,KAAKO,GAAU,CACZ,GAAIA,EAAO,SAAW,EAAG,CACrBe,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,gBAAiB,UACjB,iBAAkB,UAClB,aAAc,OACd,MAAO,GACP,SAAU,GAC9B,CAAiB,EACD,MACH,CACDhB,EAAcC,CAAM,CAChC,CAAS,EACA,MAAMgB,GAAS,CACZ,QAAQ,IAAIA,CAAK,EACjBD,EAAS,MAAM,CACX,QAAS,gDACT,SAAU,WACV,gBAAiB,UACjB,iBAAkB,UAClB,aAAc,OACd,MAAO,GACP,SAAU,GAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXL,IACAC,EAAK,MAAK,CACtB,CAAS,CACT"}